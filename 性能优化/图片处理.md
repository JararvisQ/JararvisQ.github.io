# 图片处理

## 多图下的并发处理

- http1.1下的图片并发，同一域名下只能同时请求6个，设置优先加载的图片。通过先设置的div计算到图片是否在视口区域内。
- 同时，设置HTTP2.0。

## 图片大小

- 假如一张100px*100px的图，该图包含100*100px的「像素点」。
- 每个像素点都是通过RGBA色道进行存储。
- 每个色道都有0~255个取值。
- 色道2^8 = 256，8位为1b，每个像素为4个色道，所以一个像素点需要4b，所以整张图需要10000*4b = 39kb

### 优化方向：
- 减少单位像素的字节数。
  - 有损无损压缩，有损通过删除一些像素数据；无损，通过一些算法，存储相近色值像素点的差值，「在像素点不变的下」减少存储体积。但会增加压缩的时间。
  - 满足需求的情况下使用最小的图片格式，使用webp，还支持动画和透明，gif更改为MP4。
- 减少图片总的像素个数。根据设备视口宽高，通过七牛等图片裁剪服务，将图片进行「图片格式转换，按尺寸裁剪图片」。