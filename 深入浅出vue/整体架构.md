# 架构设计和项目结构

## 打包结果
- 运行时 + 编译器。（完整版）
- 运行时。vue-loader或者vueify，*.vue文件会将模板编译成JS，因此最终打包的文件并不需要编译器。只需引入运行时版本即可。

## 开发环境和生产环境
- 通过uglifyJS压缩开发代码。

## 架构设计
![](/image/整体架构.png)
- 整体分为三个部分：核心代码，跨平台，公用函数。
- 中间和底层，逐渐添加一些方法和属性。例如：构造函数上一层的方法会添加到构造函数的prototype中，再上一层会添加到构造函数中，也就是全局API。
- 再上一层为渲染层。包括：服务端渲染和编译器相关内容，可以根据构建的目标选择是否加入编译器。
- 最上层为一个入口，暴露一个「完整的构造函数」给到用户。
![](/image/架构流程图.png)
